/**
* compress-base64 v4.0.1 by sunsilent
* @license MIT
**/
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=.001;exports.default=function(e,i){var a=i.type,r=void 0===a?"image/jpeg":a,o=i.width,h=i.height,n=i.min,s=i.max,g=i.crossOrigin,d=i.quality;return new Promise((function(i,a){var c=d||.8,u=new Image;u.src=e,"string"==typeof g&&u.setAttribute("crossOrigin",g);var N=parseFloat(o),l=parseFloat(h);u.onload=function(){isNaN(N)&&isNaN(l)?(N=u.width,l=u.height):(!isNaN(N)&&isNaN(l)&&(l=N*u.height/u.width),isNaN(N)&&!isNaN(l)&&(N=l*u.width/u.height)),u.width=N,u.height=l;var e=document.createElement("canvas"),a=e.getContext("2d");e.width=N,e.height=l,a.clearRect(0,0,e.width,e.height),a.drawImage(u,0,0,e.width,e.height);for(var o=e.toDataURL(r,c);o.length/1024>s;){if(c<=t){o=e.toDataURL(r,t);break}o=e.toDataURL(r,c-=t)}for(;o.length/1024<n;)o=e.toDataURL(r,c+=t);i(o)},u.onerror=function(t){a(t)}}))};
