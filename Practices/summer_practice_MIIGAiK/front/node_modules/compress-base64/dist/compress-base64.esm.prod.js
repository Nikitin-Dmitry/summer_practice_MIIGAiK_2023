/**
* compress-base64 v4.0.1 by sunsilent
* @license MIT
**/
var t=.001;function a(a,i){var e=i.type,r=void 0===e?"image/jpeg":e,h=i.width,o=i.height,n=i.min,g=i.max,s=i.crossOrigin,d=i.quality;return new Promise((function(i,e){var c=d||.8,N=new Image;N.src=a,"string"==typeof s&&N.setAttribute("crossOrigin",s);var w=parseFloat(h),f=parseFloat(o);N.onload=function(){isNaN(w)&&isNaN(f)?(w=N.width,f=N.height):(!isNaN(w)&&isNaN(f)&&(f=w*N.height/N.width),isNaN(w)&&!isNaN(f)&&(w=f*N.width/N.height)),N.width=w,N.height=f;var a=document.createElement("canvas"),e=a.getContext("2d");a.width=w,a.height=f,e.clearRect(0,0,a.width,a.height),e.drawImage(N,0,0,a.width,a.height);for(var h=a.toDataURL(r,c);h.length/1024>g;){if(c<=t){h=a.toDataURL(r,t);break}h=a.toDataURL(r,c-=t)}for(;h.length/1024<n;)h=a.toDataURL(r,c+=t);i(h)},N.onerror=function(t){e(t)}}))}export{a as default};
